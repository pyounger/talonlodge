# Turn indexes off
#Options All -Indexes

# Error documents
ErrorDocument 403 /403.html
ErrorDocument 404 /404.html

<IfModule mod_alias.c>
# Deny access to SVN files if any using mod_alias
RedirectMatch 404 /\\.svn(/|$)
</IfModule>

<IfModule mod_rewrite.c>
RewriteEngine On
RewriteBase /

# Custom redirects
redirect 301 /about/wildlife.asp http://www.talonlodge.com/alaska-adventure
# redirect 301 /difference/ -- the same
redirect 301 /accommodations/ http://www.talonlodge.com/lodge-accommodations
redirect 301 /cuisine/ http://www.talonlodge.com/cuisine-events
# redirect 301 /cuisine/recipes.asp Need to make
# redirect 301 /fishing/ -- the same
redirect 301 /fishing/equipment.asp http://www.talonlodge.com/guides-and-gear
# redirect 301 /spa/ -- the same
redirect 301 /cuisine/visiting_chef.asp http://www.talonlodge.com/chef-series
redirect 301 /cuisine/winemaker.asp http://www.talonlodge.com/winemaker-series
redirect 301 /fishing/calendar.asp http://www.talonlodge.com/fishing-calendar
# redirect 301 /offers/offers.asp -- Need to make
redirect 301 /pt/blog/	http://wordpress.talonlodge.com
# redirect 301 /offers/offers.asp http://www.talonlodge.com/rates
redirect 301 /reserve/ http://www.talonlodge.com/reservation
# redirect 301 /advertise/ -- Need to make
redirect 301 /privacy.asp http://www.talonlodge.com/privacy-policy
redirect 301 /terms.asp http://www.talonlodge.com/terms-of-use
# redirect 301 /sitemap.asp -- Need to make
redirect 301 /travel-leisure-articles.asp http://www.talonlodge.com/travel-leisure-articles
redirect 301 /other-travel-sites.asp http://www.talonlodge.com/travel-agencies
# redirect 301 /other-travel-related-sites.asp -- Need to make

redirect 301 /store/ebrochure.asp http://www.talonlodge.com/brochure
redirect 301 /about/story.asp http://www.talonlodge.com/our-story
redirect 301 /about/location.asp http://www.talonlodge.com/location
redirect 301 /about/people.asp http://www.talonlodge.com/people
redirect 301 /about/service.asp http://www.talonlodge.com/talon-service

#redirect 301 /admin/ http://private.talonlodge.com/admin
redirect 301 /guests/ http://private.talonlodge.com/guests

#Captcha
RewriteRule ^captcha\/([0-9]+)/?$ captcha.php [L]

# CSS & JavaScript gzipping using assets
RewriteRule ^asset-(.*?)\.v(.*?)\.(css|js)$ gzipit.php?asset=$1 [L]

# Fixing trailing slash
RewriteCond %{REQUEST_FILENAME} !-f

# Optional ignore pattern for file not existing on disk
 RewriteCond %{REQUEST_URI} !generated-file-from-script.gif
RewriteCond %{REQUEST_URI} !(.*)/$
#RewriteRule ^(.*)$ http://%{HTTP_HOST}/$1/ [L,R=301]
RewriteRule ^(.*)$ http://talonlodge.com/$1/ [L,R=301]
RewriteRule ^(.*)$ http://www.talonlodge.com/$1/ [L,R=301]

# Catch-all rule
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule . index.php [L]

</IfModule>


