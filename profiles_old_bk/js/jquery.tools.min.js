(function(e){function r(n,r,i){var s=this,o=n.add(this),u=n.find(i.flowtabs),f=r.jquery?r:n.children(r),l;u.length||(u=n.children()),f.length||(f=n.parent().find(r)),f.length||(f=e(r)),e.extend(this,{click:function(n,r){var f=u.eq(n);typeof n=="string"&&n.replace("#","")&&(f=u.filter("[href*="+n.replace("#","")+"]"),n=Math.max(u.index(f),0));if(i.rotate){var c=u.length-1;if(n<0)return s.click(c,r);if(n>c)return s.click(0,r)}if(!f.length){if(l>=0)return s;n=i.initialIndex,f=u.eq(n)}if(n===l)return s;r=r||e.Event(),r.type="onBeforeClick",o.trigger(r,[n]);if(!r.isDefaultPrevented()){l=n,t[i.effect].call(s,n,function(){r.type="onClick",o.trigger(r,[n])}),u.removeClass(i.current),f.addClass(i.current);return s}},getConf:function(){return i},getflowtabs:function(){return u},getPanes:function(){return f},getCurrentPane:function(){return f.eq(l)},getCurrentTab:function(){return u.eq(l)},getIndex:function(){return l},next:function(){return s.click(l+1)},prev:function(){return s.click(l-1)},destroy:function(){u.unbind(i.event).removeClass(i.current),f.find("a[href^=#]").unbind("click.T");return s}}),e.each("onBeforeClick,onClick".split(","),function(t,n){e.isFunction(i[n])&&e(s).bind(n,i[n]),s[n]=function(t){t&&e(s).bind(n,t);return s}}),i.history&&e.fn.history&&(e.tools.history.init(u),i.event="history"),u.each(function(t){e(this).bind(i.event,function(e){s.click(t,e);return e.preventDefault()})}),f.find("a[href^=#]").bind("click.T",function(t){s.click(e(this).attr("href"),t)}),location.hash&&i.flowtabs=="a"&&n.find("[href="+location.hash+"]").length?s.click(location.hash):(i.initialIndex===0||i.initialIndex>0)&&s.click(i.initialIndex)}e.tools=e.tools||{version:"dev"},e.tools.flowtabs={conf:{flowtabs:"a",current:"current",onBeforeClick:null,onClick:null,effect:"default",initialIndex:0,event:"click",rotate:!1,history:!1},addEffect:function(e,n){t[e]=n}};var t={"default":function(e,t){this.getPanes().hide().eq(e).show(),t.call()},fade:function(e,t){var n=this.getConf(),r=n.fadeOutSpeed,i=this.getPanes();r?i.fadeOut(r):i.hide(),i.eq(e).fadeIn(n.fadeInSpeed,t)},slide:function(e,t){this.getPanes().slideUp(200),this.getPanes().eq(e).slideDown(400,t)},ajax:function(e,t){this.getPanes().eq(0).load(this.getflowtabs().eq(e).attr("href"),t)}},n;e.tools.flowtabs.addEffect("horizontal",function(t,r){n||(n=this.getPanes().eq(0).width()),this.getCurrentPane().animate({width:0},function(){e(this).hide()}),this.getPanes().eq(t).animate({width:n},function(){e(this).show(),r.call()})});e.fn.flowtabs=function(t,n){var i=this.data("flowtabs");i&&(i.destroy(),this.removeData("flowtabs")),e.isFunction(n)&&(n={onBeforeClick:n}),n=e.extend({},e.tools.flowtabs.conf,n),this.each(function(){i=new r(e(this),t,n),e(this).data("flowtabs",i)});return n.api?i:this}})(jQuery);(function(e){function n(t,n,r){var i=r.relative?t.position().top:t.offset().top,s=r.relative?t.position().left:t.offset().left,o=r.position[0];i-=n.outerHeight()-r.offset[0],s+=t.outerWidth()+r.offset[1],/iPad/i.test(navigator.userAgent)&&(i-=e(window).scrollTop());var u=n.outerHeight()+t.outerHeight();o=="center"&&(i+=u/2),o=="bottom"&&(i+=u),o=r.position[1];var f=n.outerWidth()+t.outerWidth();o=="center"&&(s-=f/2),o=="left"&&(s-=f);return{top:i,left:s}}function r(r,i){var s=this,o=r.add(s),u,f=0,l=0,h=r.attr("title"),p=r.attr("data-tooltip"),d=t[i.effect],v,m=r.is(":input"),g=m&&r.is(":checkbox, :radio, select, :button, :submit"),y=r.attr("type"),w=i.events[y]||i.events[m?g?"widget":"input":"def"];if(!d)throw'Nonexistent effect "'+i.effect+'"';w=w.split(/,\s*/);if(w.length!=2)throw"Tooltip: bad events configuration for "+y;r.bind(w[0],function(e){clearTimeout(f),i.predelay?l=setTimeout(function(){s.show(e)},i.predelay):s.show(e)}).bind(w[1],function(e){clearTimeout(l),i.delay?f=setTimeout(function(){s.hide(e)},i.delay):s.hide(e)}),h&&i.cancelDefault&&(r.removeAttr("title"),r.data("title",h)),e.extend(s,{show:function(t){if(!u){p?u=e(p):i.tip?u=e(i.tip).eq(0):h?u=e(i.layout).addClass(i.tipClass).appendTo(document.body).hide().append(h):(u=r.next(),u.length||(u=r.parent().next()));if(!u.length)throw"Cannot find tooltip for "+r}if(s.isShown())return s;u.stop(!0,!0);var m=n(r,u,i);i.tip&&u.html(r.data("title")),t=e.Event(),t.type="onBeforeShow",o.trigger(t,[m]);if(t.isDefaultPrevented())return s;m=n(r,u,i),u.css({position:"absolute",top:m.top,left:m.left}),v=!0,d[0].call(s,function(){t.type="onShow",v="full",o.trigger(t)});var g=i.events.tooltip.split(/,\s*/);u.data("__set")||(u.unbind(g[0]).bind(g[0],function(){clearTimeout(f),clearTimeout(l)}),g[1]&&!r.is("input:not(:checkbox, :radio), textarea")&&u.unbind(g[1]).bind(g[1],function(e){e.relatedTarget!=r[0]&&r.trigger(w[1].split(" ")[0])}),i.tip||u.data("__set",!0));return s},hide:function(n){if(!u||!s.isShown())return s;n=e.Event(),n.type="onBeforeHide",o.trigger(n);if(!n.isDefaultPrevented()){v=!1,t[i.effect][1].call(s,function(){n.type="onHide",o.trigger(n)});return s}},isShown:function(e){return e?v=="full":v},getConf:function(){return i},getTip:function(){return u},getTrigger:function(){return r}}),e.each("onHide,onBeforeShow,onShow,onBeforeHide".split(","),function(t,n){e.isFunction(i[n])&&e(s).bind(n,i[n]),s[n]=function(t){t&&e(s).bind(n,t);return s}})}e.tools=e.tools||{version:"dev"},e.tools.tooltip={conf:{effect:"toggle",fadeOutSpeed:"fast",predelay:0,delay:30,opacity:1,tip:0,fadeIE:!1,position:["top","center"],offset:[0,0],relative:!1,cancelDefault:!0,events:{def:"mouseenter,mouseleave",input:"focus,blur",widget:"focus mouseenter,blur mouseleave",tooltip:"mouseenter,mouseleave"},layout:"<div/>",tipClass:"tooltip"},addEffect:function(e,n,r){t[e]=[n,r]}};var t={toggle:[function(e){var t=this.getConf(),n=this.getTip(),r=t.opacity;r<1&&n.css({opacity:r}),n.show(),e.call()},function(e){this.getTip().hide(),e.call()}],fade:[function(t){var n=this.getConf();!e.browser.msie||n.fadeIE?this.getTip().fadeTo(n.fadeInSpeed,n.opacity,t):(this.getTip().show(),t())},function(t){var n=this.getConf();!e.browser.msie||n.fadeIE?this.getTip().fadeOut(n.fadeOutSpeed,t):(this.getTip().hide(),t())}]};e.fn.tooltip=function(t){var n=this.data("tooltip");if(n)return n;t=e.extend(!0,{},e.tools.tooltip.conf,t),typeof t.position=="string"&&(t.position=t.position.split(/,?\s/)),this.each(function(){n=new r(e(this),t),e(this).data("tooltip",n)});return t.api?n:this}})(jQuery);(function(e){var t=e.tools.tooltip;e.extend(t.conf,{direction:"up",bounce:!1,slideOffset:10,slideInSpeed:200,slideOutSpeed:200,slideFade:!e.browser.msie});var n={up:["-","top"],down:["+","top"],left:["-","left"],right:["+","left"]};t.addEffect("slide",function(e){var t=this.getConf(),r=this.getTip(),i=t.slideFade?{opacity:t.opacity}:{},s=n[t.direction]||n.up;i[s[1]]=s[0]+"="+t.slideOffset,t.slideFade&&r.css({opacity:0}),r.show().animate(i,t.slideInSpeed,e)},function(t){var r=this.getConf(),i=r.slideOffset,s=r.slideFade?{opacity:0}:{},o=n[r.direction]||n.up,u=""+o[0];r.bounce&&(u=u=="+"?"-":"+"),s[o[1]]=u+"="+i,this.getTip().animate(s,r.slideOutSpeed,function(){e(this).hide(),t.call()})})})(jQuery);(function(e){function t(e,t){var n=parseInt(e.css(t),10);if(n)return n;var r=e[0].currentStyle;return r&&r.width&&parseInt(r.width,10)}function n(t,n){var r=e(n);return r.length<2?r:t.parent().find(n)}function i(t,i){var s=this,o=t.add(s),u=t.children(),f=0,l=i.vertical;r||(r=s),u.length>1&&(u=e(i.items,t)),i.size>1&&(i.circular=!1),e.extend(s,{getConf:function(){return i},getIndex:function(){return f},getSize:function(){return s.getItems().size()},getNaviButtons:function(){return m.add(g)},getRoot:function(){return t},getItemWrap:function(){return u},getItems:function(){return u.find(i.item).not("."+i.clonedClass)},move:function(e,t){return s.seekTo(f+e,t)},next:function(e){return s.move(i.size,e)},prev:function(e){return s.move(-i.size,e)},begin:function(e){return s.seekTo(0,e)},end:function(e){return s.seekTo(s.getSize()-1,e)},focus:function(){r=s;return s},addItem:function(t){t=e(t),i.circular?(u.children().last().before(t),u.children().first().replaceWith(t.clone().addClass(i.clonedClass))):(u.append(t),g.removeClass("disabled")),o.trigger("onAddItem",[t]);return s},seekTo:function(t,n,c){t.jquery||(t*=1);if(i.circular&&t===0&&f==-1&&n!==0)return s;if(!i.circular&&t<0||t>s.getSize()||t<-1)return s;var h=t;t.jquery?t=s.getItems().index(t):h=s.getItems().eq(t);var p=e.Event("onBeforeSeek");if(!c){o.trigger(p,[t,n]);if(p.isDefaultPrevented()||!h.length)return s}var v=l?{top:-h.position().top}:{left:-h.position().left};f=t,r=s,n===undefined&&(n=i.speed),u.animate(v,n,i.easing,c||function(){o.trigger("onSeek",[t])});return s}}),e.each(["onBeforeSeek","onSeek","onAddItem"],function(t,n){e.isFunction(i[n])&&e(s).bind(n,i[n]),s[n]=function(t){t&&e(s).bind(n,t);return s}});if(i.circular){var h=s.getItems().slice(-1).clone().prependTo(u),p=s.getItems().eq(1).clone().appendTo(u);h.add(p).addClass(i.clonedClass),s.onBeforeSeek(function(e,t,n){if(!e.isDefaultPrevented()){if(t==-1){s.seekTo(h,n,function(){s.end(0)});return e.preventDefault()}t==s.getSize()&&s.seekTo(p,n,function(){s.begin(0)})}});var v=t.parents().add(t).filter(function(){if(e(this).css("display")==="none")return!0});v.length?(v.show(),s.seekTo(0,0,function(){}),v.hide()):s.seekTo(0,0,function(){})}var m=n(t,i.prev).click(function(e){e.stopPropagation(),s.prev()}),g=n(t,i.next).click(function(e){e.stopPropagation(),s.next()});i.circular||(s.onBeforeSeek(function(e,t){setTimeout(function(){e.isDefaultPrevented()||(m.toggleClass(i.disabledClass,t<=0),g.toggleClass(i.disabledClass,t>=s.getSize()-1))},1)}),i.initialIndex||m.addClass(i.disabledClass)),s.getSize()<2&&m.add(g).addClass(i.disabledClass),i.mousewheel&&e.fn.mousewheel&&t.mousewheel(function(e,t){if(i.mousewheel){s.move(t<0?1:-1,i.wheelSpeed||50);return!1}});if(i.touch){var y={};u[0].ontouchstart=function(e){var t=e.touches[0];y.x=t.clientX,y.y=t.clientY},u[0].ontouchmove=function(e){if(e.touches.length==1&&!u.is(":animated")){var t=e.touches[0],n=y.x-t.clientX,r=y.y-t.clientY;s[l&&r>0||!l&&n>0?"next":"prev"](),e.preventDefault()}}}i.keyboard&&e(document).bind("keydown.fancyscrollable",function(t){if(!(!i.keyboard||t.altKey||t.ctrlKey||t.metaKey||e(t.target).is(":input"))){if(i.keyboard!="static"&&r!=s)return;var n=t.keyCode;if(l&&(n==38||n==40)){s.move(n==38?-1:1);return t.preventDefault()}if(!l&&(n==37||n==39)){s.move(n==37?-1:1);return t.preventDefault()}}}),i.initialIndex&&s.seekTo(i.initialIndex,0,function(){})}e.tools=e.tools||{version:"dev"},e.tools.fancyscrollable={conf:{activeClass:"active",circular:!1,clonedClass:"cloned",disabledClass:"disabled",easing:"swing",initialIndex:0,item:"> *",items:".items",keyboard:!0,mousewheel:!1,next:".next",prev:".prev",size:1,speed:400,vertical:!1,touch:!0,wheelSpeed:0}};var r;e.fn.fancyscrollable=function(t){var n=this.data("fancyscrollable");if(n)return n;t=e.extend({},e.tools.fancyscrollable.conf,t),this.each(function(){n=new i(e(this),t),e(this).data("fancyscrollable",n)});return t.api?n:this}})(jQuery);(function(e){function n(t,n){var r=e(n);return r.length<2?r:t.parent().find(n)}var t=e.tools.fancyscrollable;t.navigator={conf:{navi:".navi",naviItem:null,activeClass:"active",indexed:!1,idPrefix:null,history:!1}};e.fn.navigator=function(r){typeof r=="string"&&(r={navi:r}),r=e.extend({},t.navigator.conf,r);var i;this.each(function(){function h(e,n,r){t.seekTo(n),r.preventDefault(),f&&history.pushState({i:n})}function p(){return s.find(r.naviItem||"> *")}function v(t){var n=e("<"+(r.naviItem||"a")+"/>").click(function(n){h(e(this),t,n)});t===0&&n.addClass(u),r.indexed&&n.text(t+1),r.idPrefix&&n.attr("id",r.idPrefix+t);return n.appendTo(s)}var t=e(this).data("fancyscrollable"),s=r.navi.jquery?r.navi:n(t.getRoot(),r.navi),o=t.getNaviButtons(),u=r.activeClass,f=r.history&&history.pushState,l=t.getConf().size;t&&(i=t),t.getNaviButtons=function(){return o.add(s)},f&&(history.pushState({i:0}),e(window).bind("popstate",function(e){var n=e.originalEvent.state;n&&t.seekTo(n.i)}));p().length?p().each(function(t){e(this).click(function(n){h(e(this),t,n)})}):e.each(t.getItems(),function(e){e%l==0&&v(e)}),t.onBeforeSeek(function(e,t){setTimeout(function(){if(!e.isDefaultPrevented()){var n=t/l,r=p().eq(n);r.length&&p().removeClass(u).eq(n).addClass(u)}},1)}),t.onAddItem(function(e,n){var r=t.getItems().index(n);r%l==0&&v(r)})});return r.api?i:this}})(jQuery)